#!/bin/zsh
set -e

# After brew installed goes here!
# cat << EOF >> ~/.bash_profile
# Add Visual Studio Code (code)
# export PATH="\$PATH:/Applications/Visual Studio Code.app/Contents/Resources/app/bin"
#EOF

# Symlink files/* into home directory as regular files
# for f in $(ls -d ~/.dotfiles/files/*); do ln -sfn $f ~/$(basename $f); done

# Spectacle
spectacledir = "~/Library/Application\ Support/Spectacle"
[ ! -d "$spectacledir" ] && mkdir -p "$spectacledir"
ln -sfn ~/.dotfiles/programs/spectacle/shortcuts.json "$spectacledir/Shortcuts.json"

# Visual Studio Code
vscdir = "~/Library/Application\ Support/Code/User"
[ ! -d "$vscdir" ] && mkdir -p "$vscdir"
for f in $(ls -d ~/.dotfiles/programs/code/*.json); do ln -sfn $f "$vscdir/$(basename $f)"; done

# Set shell to be homebrew installed zsh
sudo dscl . -create /Users/$USER UserShell $(brew --prefix)/bin/zsh
echo "Successful after-setup"
